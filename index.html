<!DOCTYPE html>
<!-- Roy Curtis 2018, MIT license -->
<html lang="en">
<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Rail Announcement Generator</title>

  <link href="css/index.css" rel="stylesheet" type="text/css"/>
</head>

<body>
  <!-- The electronic scrolling text board at the top -->
  <div id="marquee">
    Is Javascript enabled?
  </div>

  <!-- Toolbar of RAG operations -->
  <menu id="toolbar">
    <button tabindex="1" id="btnPlay" title="Play phrase">
      <svg class="play"><use xlink:href="css/icons/icoMoon.svg#icon-play"></use></svg>
    </button>

    <button tabindex="1" id="btnStop" title="Stop playing phrase">
      <svg class="stop"><use xlink:href="css/icons/icoMoon.svg#icon-stop"></use></svg>
    </button>

    <button tabindex="1" id="btnShuffle" title="Generate random phrase">
      <svg><use xlink:href="css/icons/icoMoon.svg#icon-shuffle"></use></svg>
    </button>

    <button tabindex="1" id="btnSave" title="Save phrase to storage">
      <svg><use xlink:href="css/icons/icoMoon.svg#icon-save"></use></svg>
    </button>

    <button tabindex="1" id="btnLoad" title="Recall phrase from storage">
      <svg><use xlink:href="css/icons/icoMoon.svg#icon-recall"></use></svg>
    </button>

    <button tabindex="1" id="btnSettings" title="Open settings">
      <svg><use xlink:href="css/icons/icoMoon.svg#icon-settings"></use></svg>
    </button>
  </menu>

  <!-- The phrase editor -->
  <div id="editor">
    Is Javascript enabled?
  </div>

  <!-- UI definitions for phrase element editor dialogs -->

  <div id="coachPicker" class="dialog hidden">
    <header>Pick a coach</header>

    <form>
      <select title="Coach letter" tabindex="50"></select>
    </form>
  </div>

  <div id="excusePicker" class="dialog fullWidth hidden">
    <header>Pick an excuse</header>

    <form>
      <filterableList
        placeholder="Filter excuses..."
        title="List of delay or cancellation excuses"
        itemTitle="Click to select this excuse"
      ></filterableList>
    </form>
  </div>

  <div id="integerPicker" class="dialog hidden">
    <header>Pick a number</header>

    <form>
      <input id="integerPickerValue" type="number" title="Integer value">
      <label for="integerPickerValue"></label>
    </form>
  </div>

  <div id="namedPicker" class="dialog fullWidth hidden">
    <header>Pick a named train</header>

    <form>
      <filterableList
        placeholder="Filter train name..."
        title="List of train names"
        itemTitle="Click to select this name"
      ></filterableList>
    </form>
  </div>

  <div id="phrasesetPicker" class="dialog fullWidth midHeight hidden">
    <header>Pick a phrase</header>

    <form>
      <filterableList
        placeholder="Filter phrases..."
        title="List of phrases"
        itemTitle="Click to select this phrase"
      ></filterableList>
    </form>
  </div>

  <div id="platformPicker" class="dialog hidden">
    <header>Pick a platform</header>

    <form>
      <input type="number" title="Platform number" min="0" max="99">

      <select title="Optional platform letter">
        <option value=""></option>
        <option value="A">A</option>
        <option value="B">B</option>
        <option value="C">C</option>
      </select>
    </form>
  </div>

  <div id="servicePicker" class="dialog fullWidth hidden">
    <header>Pick a service</header>

    <form>
      <filterableList
        placeholder="Filter services..."
        title="List of service names"
        itemTitle="Click to select this service"
      ></filterableList>
    </form>
  </div>

  <div id="stationPicker" class="dialog fullWidth hidden">
    <header>Pick a station</header>

    <form>

    </form>
  </div>

  <div id="stationlistPicker" class="dialog fullWidth midHeight hidden">
    <header>Build a station list</header>

    <form>
      <dl class="stations" title="List of stations in this list">
        <dt>Please add at least one station to this list</dt>
      </dl>
    </form>
  </div>

  <div id="timePicker" class="dialog hidden">
    <header>Pick a time</header>

    <form>
      <input type="time" title="Time" pattern="[0-9]{2}:[0-9]{2}" required>
    </form>
  </div>

  <!-- UI definitions for common controls -->

  <div id="stationList" class="hidden">
    <input class="filterBox" type="text" placeholder="Filter stations..."/>

    <div class="picker" title="List of stations to pick from">

    </div>
  </div>

  <div id="filterableList" class="hidden">
    <input class="flSearchBox" type="text" tabindex="50" title=""/>

    <dl class="flItemPicker" tabindex="50"></dl>
  </div>

</body>

<scripts>
  <!-- National Rail vocabulary data -->
  <script src="data/nr_excuses.js"  type="text/javascript"></script>
  <script src="data/nr_named.js"    type="text/javascript"></script>
  <script src="data/nr_services.js" type="text/javascript"></script>
  <script src="data/nr_stations.js" type="text/javascript"></script>

  <!-- Application logic -->
  <script src="js/rag.js" type="text/javascript"></script>

  <script type="application/javascript">
    function init()
    {
      RAG.main({
        phraseSetEmbed: '#nrPhraseset',
        excusesData:    DATA_EXCUSES,
        namedData:      DATA_NAMED,
        servicesData:   DATA_SERVICES,
        stationsData:   DATA_STATIONS
      });
    }
  </script>

  <!-- National Rail phrase sets -->
  <!-- Has to be down here, so the phraseset can load synchronously. -->
  <iframe id="nrPhraseset" src="data/phrases.xml" onload="init()"></iframe>
</scripts>

</html>