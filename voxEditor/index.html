<!DOCTYPE html>
<!-- Roy Curtis 2018, MIT license -->
<html lang="en">
<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">

  <title>VOX Recorder & Editor</title>

  <link href="css/vox.css" rel="stylesheet" type="text/css"/>
</head>

<body>
  <section id="partSelector">
    <h1>Phrases</h1>

    <menu>
      <input disabled type="text" id="inputFind" placeholder="Find..." />

      <button id="btnMarkMissing">Mark missing</button>
    </menu>

    <ul class="hidden">

    </ul>
  </section>

  <section id="tapeDeck">
    <h1>Setup</h1>

    <form id="frmSetup">
      <label for="selInputDevice">Input device</label>

      <select id="selInputDevice"></select>

      <label for="selVoice">Voice</label>

      <select id="selVoice"></select>
    </form>

    <h1>Recording</h1>

    <form id="frmTapedeck">
      <menu>
        <button disabled id="btnPrev" title="Previous track (LEFT ARROW)">
          <svg><use xlink:href="../css/icons/icoMoon.svg#icon-prev"></use></svg>
        </button>
        <button disabled id="btnPlay" title="Play (SPACE)">
          <svg><use xlink:href="../css/icons/icoMoon.svg#icon-play"></use></svg>
        </button>
        <button disabled id="btnStop" title="Stop (SPACE)">
          <svg><use xlink:href="../css/icons/icoMoon.svg#icon-stop"></use></svg>
        </button>
        <button disabled id="btnRec" title="Record (R)">
          <svg><use xlink:href="../css/icons/icoMoon.svg#icon-mic"></use></svg>
        </button>
        <button disabled id="btnSave" title="Save (S)">
          <svg><use xlink:href="../css/icons/icoMoon.svg#icon-save"></use></svg>
        </button>
        <button disabled id="btnNext" title="Next track (RIGHT ARROW)">
          <svg><use xlink:href="../css/icons/icoMoon.svg#icon-next"></use></svg>
        </button>
      </menu>

      <p class="id">Select a phrase</p>

      <p class="caption">
        Select a phrase on the left list, to record or edit it.
      </p>

      <div class="peaks"></div>

      <audio class="peaksAudio"></audio>
    </form>

  </section>
</body>

<scripts>
  <!-- RAG application logic -->
  <script src="../js/rag.js" type="text/javascript"></script>

  <!-- VoxEditor client logic -->
  <script type="application/javascript">
    function init()
    {
      // Try as I might, "import" does not work here. So require must be used.
      // noinspection JSUnresolvedVariable
      let VoxEditor = require('./dist/voxEditor.js').VoxEditor;

      // noinspection JSUnresolvedFunction
      VoxEditor.main({
        phrasesetEmbed: '#nrPhraseset',
        excusesData:    DATA_EXCUSES,
        namedData:      DATA_NAMED,
        servicesData:   DATA_SERVICES,
        stationsData:   DATA_STATIONS
      });
    }
  </script>

  <script src="../data/nr_excuses.js" type="text/javascript"></script>
  <script src="../data/nr_named.js" type="text/javascript"></script>
  <script src="../data/nr_services.js" type="text/javascript"></script>
  <script src="../data/nr_stations.js" type="text/javascript"></script>
  <iframe id="nrPhraseset" src="../data/phrases.xml" onload="init()"></iframe>
</scripts>

</html>